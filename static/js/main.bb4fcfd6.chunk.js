(this.webpackJsonpfinal_project=this.webpackJsonpfinal_project||[]).push([[0],{102:function(e,t){},104:function(e,t){},119:function(e,t){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(22),o=a.n(c),r=(a(68),a(69),a(2)),s=a(26),i=a.n(s);a(70),a(72);i.a.initializeApp({apiKey:"AIzaSyBSSvTFqPxkcI5mz9suctBy5ab3h583C4s",authDomain:"e-pharmacy-290822.firebaseapp.com",databaseURL:"https://e-pharmacy-290822.firebaseio.com",projectId:"e-pharmacy-290822",storageBucket:"e-pharmacy-290822.appspot.com",messagingSenderId:"1088549891322",appId:"1:1088549891322:web:44fc0b43e499cc2b522d43",measurementId:"G-X8PQL9HHDQ"});var m=i.a.auth(),u=(i.a.firestore(),new i.a.auth.GoogleAuthProvider),p=function(){m.signInWithPopup(u)},h=Object(n.createContext)({user:null}),d=function(e){var t=Object(n.useState)(null),a=Object(r.a)(t,2),c=a[0],o=a[1];return Object(n.useEffect)((function(){m.onAuthStateChanged((function(e){o(e||null)}))}),[]),l.a.createElement(h.Provider,{value:c},e.children)},E=a(11),g=a(4),f=function(e){var t=e.onClick,a=e.trigger,c=e.showList,o=e.howMany,s=Object(n.useContext)(h),i=Object(n.useState)([]),m=Object(r.a)(i,2),u=m[0],p=m[1],d=Object(n.useState)(""),g=Object(r.a)(d,2),f=g[0],b=g[1],w=function(){p([]),console.log("czyszcze")};return Object(n.useEffect)((function(){c(u,f)}),[u]),l.a.createElement(l.a.Fragment,null,l.a.createElement("header",{className:"container"},l.a.createElement("div",{className:"header"},l.a.createElement("div",{className:"header__logoAndSearch"},l.a.createElement("div",{className:"header__logoAndSearch__logo"},l.a.createElement("span",{className:"logo__title"},"Logo Apteki")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),fetch("".concat("http://localhost:8080/api/drugs")).then((function(e){return e.json()})).then((function(e){return p(e)})).catch((function(e){return console.log(e)})),console.log(u)},className:"header__logoAndSearch__form"},l.a.createElement("input",{id:"input-search",onChange:function(e){e.preventDefault(),b(e.target.value)},type:"text",value:f,name:"search drug"}),l.a.createElement("input",{id:"btn-search",type:"submit",value:"Szukaj"})),l.a.createElement("span",{className:"user-name"},l.a.createElement("h3",{style:{minWidth:"20rem"}},s&&"Witaj ".concat(s.displayName,"!"))),l.a.createElement(E.b,{className:"basket",to:"./basket"},l.a.createElement("i",{onClick:w,style:{color:"#034C8C",fontSize:"2.3rem"},className:"fas fa-shopping-basket"})),l.a.createElement("span",{className:"badge"},o)),l.a.createElement("nav",{className:a?"mobile-section opened":"mobile-section"},l.a.createElement("button",{onClick:t,id:"menu-trigger"},l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("ul",{className:"menu"},l.a.createElement("li",{onClick:w,className:"menu__element"},l.a.createElement(E.b,{className:"links",to:"/"},"Strona g\u0142\xf3wna")),l.a.createElement("li",{className:"menu__element"},l.a.createElement(E.b,{onClick:w,disabled:!0,className:"links",to:"/otc"},"Bez recepty")),l.a.createElement("li",{className:"menu__element"},l.a.createElement(E.b,{onClick:w,disabled:!0,className:"links",to:"/drugs"},"Na recept\u0119")),l.a.createElement("li",{onClick:w,className:"menu__element"},l.a.createElement(E.b,{className:"links",to:"/prescriptions"},"Zrealizuj recept\u0119!")),l.a.createElement("li",{style:{minWidth:"26vw",display:"flex",justifyContent:"center",paddingLeft:"0px"},className:"menu__element"},l.a.createElement(E.b,{style:{textAlign:"center"},className:"links",to:"/log"},s?"Tw\xf3j profil":"Zaloguj si\u0119")))))))},b=function(e){var t=e.imageUrl;return console.log(t),l.a.createElement("img",{style:{width:"150px",height:"150px"},src:t})},w=a(79),y=function(e){var t=e.onList,a=e.imageToShow,c=e.onBuy;console.log(t.length);var o=Object(n.useState)(!1),s=Object(r.a)(o,2),i=s[0],m=s[1];return Object(n.useEffect)((function(){new w("396fd837a67ea9f46","AIzaSyBSSvTFqPxkcI5mz9suctBy5ab3h583C4s").search("".concat(a),{page:1}).then((function(e){m(e)})).catch((function(e){return console.log(e)}))}),[a]),t&&i&&"function"===typeof c?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"wraper container"},l.a.createElement("h2",{className:"container",style:{textAlign:"center"}},"Wyszukano dla Ciebie:"),l.a.createElement("ul",{className:"item-list "},t.map((function(e,t){return l.a.createElement("li",{key:t},l.a.createElement("div",{className:"item"},l.a.createElement(b,{imageUrl:i[1].url}),l.a.createElement("div",{className:"item__name"},l.a.createElement("h5",{style:{fontWeight:"600",color:"#d9042b"}},e.nazwa),l.a.createElement("span",null,"(",e.nazPowStos,"),")," ",e.dawka,",",e.postac),l.a.createElement("div",{className:"item__producer",style:{textAlign:"center"}},e.podmOdpow),l.a.createElement("div",{className:"item__manager"},l.a.createElement("div",{className:"item__manager__price"},l.a.createElement("h5",{style:{color:"#d9042b",fontWeight:"600"}},15," z\u0142")),l.a.createElement("div",{className:"item__manager__buy"},l.a.createElement("button",{className:"btn-buy",onClick:function(t){c(t,e,15)}},l.a.createElement("i",{className:"fas fa-shopping-cart"}))))))}))))):t?l.a.createElement("h1",null,"Trwa \u0142adownie..."):l.a.createElement("div",{className:"container"},l.a.createElement("h2",null,"Przykro nam, ale nie znale\u017ali\u015bmy tego,czego szukasz."))},j=a(13),v=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"carousel"},l.a.createElement(j.a,null,l.a.createElement(j.a.Item,null,l.a.createElement("img",{className:"d-block w-100",style:{maxWidth:"700px",maxHeight:"350px"},src:"https://images.pexels.com/photos/4041392/pexels-photo-4041392.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260",alt:"natural cosmetics"}),l.a.createElement(j.a.Caption,{style:{color:"#590202"}},l.a.createElement("h1",null,"30% rabatu"),l.a.createElement("h2",null,"Na wybrane kosmetyki firmy Pharmaceris."))),l.a.createElement(j.a.Item,null,l.a.createElement("img",{className:"d-block w-100",style:{maxWidth:"700px",maxHeight:"350px"},src:"https://images.pexels.com/photos/51929/medications-cure-tablets-pharmacy-51929.jpeg?auto=compress&cs=tinysrgb&h=650&w=940",alt:"pink tablets"}),l.a.createElement(j.a.Caption,null,l.a.createElement("h1",null,"Sprawd\u017a ju\u017c dzi\u015b!"),l.a.createElement("h2",null,"Ponad 6000 tysi\u0119cy produkt\xf3w dost\u0119pnych w naszej aptece"))),l.a.createElement(j.a.Item,null,l.a.createElement("img",{style:{maxWidth:"700px",maxHeight:"350px"},className:"d-block w-100",src:"https://images.pexels.com/photos/2383010/pexels-photo-2383010.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=650&w=940",alt:"green leaf with healthcare sign"}),l.a.createElement(j.a.Caption,null,l.a.createElement("h1",null,"Masz w\u0105tpliwo\u015bci?"),l.a.createElement("h2",null,"Napisz do Nas! Na pewno Ci pomo\u017cemy."))),l.a.createElement(j.a.Item,null,l.a.createElement("img",{style:{maxWidth:"700px",maxHeight:"350px"},className:"d-block w-100",src:"https://images.pexels.com/photos/593451/pexels-photo-593451.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:"bottle with tablets"}),l.a.createElement(j.a.Caption,{style:{color:" #d9042b"}},l.a.createElement("h1",null,"Zrealizuj u nas swoj\u0105 e-recept\u0119!"),l.a.createElement("h2",null,"\u0141atwy i szybki spos\xf3b, bez czekania na zam\xf3wienie."))))))},N=function(e){var t=e.itemsToShow,a=e.imageToShow,n=e.onBuy;return t.length>0?l.a.createElement(y,{onList:t,imageToShow:a,onBuy:n}):l.a.createElement(l.a.Fragment,null,l.a.createElement(v,null))},k=function(e){var t=e.itemToBuy,a=e.changeQuantityAdd,c=e.changeQuantitySubstract,o=e.price,r=e.remove,s=Object(n.useRef)(null),i=Object(n.useRef)(null),m=Object(n.useRef)(null);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{item__name:!0},l.a.createElement("span",null,t.name)),l.a.createElement("span",null,o," z\u0142"),l.a.createElement("div",{className:"item__btn"},l.a.createElement("button",{style:{marginRight:"1rem"},className:"buy-btn",ref:m,onClick:function(e){c(o,t,s,e)}},"-"),l.a.createElement("span",{ref:s},t.howMany),l.a.createElement("button",{style:{marginLeft:"1rem"},className:"buy-btn",onClick:function(e){a(o,t,s,e),console.log(t.howMany)}},"+"),l.a.createElement("button",{style:{backgroundColor:"red"},className:"buy-btn",ref:i,onClick:function(){r(t)}},l.a.createElement("i",{class:"far fa-times-circle"}))))},O=function(e){var t=e.items,a=e.zeroHandle;return Object(n.useEffect)((function(){Promise.all(t.map((function(e){return fetch("".concat("http://localhost:8000/basket","/").concat(e.id),{method:"DELETE"})}))).then((function(e){console.log(e.ok)})).catch((function(e){console.log(e)})),console.log("kasuj\u0119"),a()}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container wraper"},l.a.createElement("h1",{style:{marginTop:"3rem"}},"Brawo ! uda\u0142o Ci si\u0119 dokona\u0107 zakupu w naszym sklepie. Oczekuj na wiadomo\u015b\u0107 od nas, kiedy towar b\u0119dzie dost\u0119pny do odbioru w wybranej plac\xf3wce."),l.a.createElement(E.b,{to:"/"},"Powr\xf3t do sklepu",l.a.createElement("i",{class:"fas fa-arrow-circle-right"}))))},_=a(27),S=a(18),z=a(16),C=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)({email:"",password:""}),s=Object(r.a)(o,2),i=s[0],u=s[1],h=function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;u((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(S.a)({},a,n))}))};return l.a.createElement("div",{className:"signIn__container"},l.a.createElement("h1",null,"Zaloguj si\u0119"),l.a.createElement("div",{className:"loggin"},a!==[]&&l.a.createElement("div",null,a),l.a.createElement("form",{className:"log-form",onSubmit:function(e){e.preventDefault(),m.signInWithEmailAndPassword(i.email,i.password).then((function(e){console.log(e)})).catch((function(e){c(e)}))}},l.a.createElement("div",{className:"email"},l.a.createElement("label",{htmlFor:"userEmail",className:"log-label"},"Email:"),l.a.createElement("input",{type:"email",className:"log-input",name:"email",value:i.email,placeholder:"np. coderslab@gmail.com",id:"userEmail",onChange:h})),l.a.createElement("div",{className:"password"},l.a.createElement("label",{htmlFor:"userPassword",className:"log-label"},"Has\u0142o:"),l.a.createElement("input",{type:"password",className:"log-input",name:"password",value:i.password,placeholder:"Twoje has\u0142o",id:"userPassword",onChange:h})),l.a.createElement("input",{type:"submit",value:"Zaloguj si\u0119",className:"log btn"})),l.a.createElement("p",{className:""},"lub"),l.a.createElement("button",{className:"log btn",onClick:function(){p()}},"Zaloguj si\u0119 z Google")))},x=function(){var e=Object(n.useState)({email:"",password:"",displayName:""}),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)([]),s=Object(r.a)(o,2),i=(s[0],s[1],function(e){e.preventDefault();var t=e.target,a=t.name,n=t.value;c((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(S.a)({},a,n))}))});return l.a.createElement("div",null,l.a.createElement("h1",null,"Zarejestruj si\u0119"),l.a.createElement("div",{className:"signup"},l.a.createElement("form",{className:"log-form",onSubmit:function(e){e.preventDefault(),m.createUserWithEmailAndPassword(a.email,a.password).then(console.log("zarejestrowano")).catch((function(e){return console.log(e)}))}},l.a.createElement("label",{htmlFor:"displayName",className:""},"Twoje imi\u0119:"),l.a.createElement("input",{type:"text",className:"",name:"displayName",value:a.displayName,placeholder:"E.g: Faruq",id:"displayName",onChange:i}),l.a.createElement("label",{htmlFor:"userEmail",className:"log-label"},"Email:"),l.a.createElement("input",{type:"email",className:"log-input",name:"email",value:a.email,placeholder:"n.pk coderslab@gmail.com",id:"userEmail",onChange:i}),l.a.createElement("label",{htmlFor:"userPassword",className:"log-label"},"Has\u0142o:"),l.a.createElement("input",{type:"password",className:"log-input",name:"password",value:a.password,placeholder:"Twoje has\u0142o",id:"userPassword",onChange:i}),l.a.createElement("input",{className:"log btn",type:"submit",value:"Za\u0142\xf3\u017c konto"})),l.a.createElement("p",null,"lub"),l.a.createElement("button",{onClick:function(){try{p()}catch(e){console.error("Error signing in with Google",e)}},className:"log btn"},"Zaloguj si\u0119 z Google")))},T=function(){var e=Object(n.useContext)(h);return l.a.createElement("div",{className:"container wraper profile"},l.a.createElement("div",{className:"profile__info"},l.a.createElement("div",{style:{background:"url(\n              ".concat(e.photoURL,"\n            )  no-repeat center center"),backgroundSize:"cover",height:"200px",width:"200px",border:"2px solid black"}}),l.a.createElement("div",{style:{paddingLeft:"2rem"}},l.a.createElement("h2",null,e.displayName),l.a.createElement("h3",null,e.email))),l.a.createElement("button",{className:"btn log",onClick:function(){m.signOut().then((function(){console.log("wylogowano")})).catch((function(e){console.log("b\u0142\u0105d wylogowania")}))}},"Wyloguj si\u0119"))},F=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(r.a)(o,2),i=s[0],u=s[1],p=Object(n.useState)(null),h=Object(r.a)(p,2),d=h[0],E=h[1];return l.a.createElement("div",{className:"password-reset"},l.a.createElement("h1",null,"Zresetuj swoje has\u0142o"),l.a.createElement("div",null,l.a.createElement("form",{className:"log-form"},i&&l.a.createElement("div",null,"An email has been sent to you!"),null!==d&&l.a.createElement("div",null,d),l.a.createElement("div",{className:"email"}," ",l.a.createElement("label",{className:"log-label",htmlFor:"userEmail"},"Email:"),l.a.createElement("input",{className:"log-input",type:"email",name:"userEmail",id:"userEmail",value:a,placeholder:"Input your email",onChange:function(e){var t=e.currentTarget,a=t.name,n=t.value;"userEmail"===a&&c(n)}})),l.a.createElement("button",{style:{width:"25vw"},className:"log btn",onClick:function(e){!function(e){e.preventDefault(),m.sendPasswordResetEmail(a).then((function(){u(!0),setTimeout((function(){u(!1)}),3e3)})).catch((function(){E("Error resetting password")}))}(e)}},"Wy\u015blij link z nowym has\u0142em."))))};var A=function(){return Object(n.useContext)(h)?l.a.createElement(T,null):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"log__container wraper container"},l.a.createElement("div",{className:"links__container"},l.a.createElement(_.a,{className:"log_links",to:"/log/signIn"},"Zaloguj si\u0119"),l.a.createElement(_.a,{className:"log_links",to:"/log/signUp"},"Zarejestruj si\u0119!"),l.a.createElement(_.a,{className:"log_links",to:"/log/passwordReset"},"Zresetuj has\u0142o")),l.a.createElement(_.b,{className:"log-router__container"},l.a.createElement(x,{path:"/log/signUp"}),l.a.createElement(C,{path:"/log/signIn"}),l.a.createElement(T,{path:"/log/profilePage"}),l.a.createElement(F,{path:"/log/passwordReset"}))))},P=function(){return l.a.createElement(d,null,l.a.createElement(A,null))},B=function(e){var t=e.itemsToShow,a=e.imageToShow,c=e.onBuy,o=e.pay,s=e.quantity,i=e.remove,m=e.changeQuantityAdd,u=e.changeQuantitySubstract,p=e.zeroHandle,d=Object(n.useState)(!1),E=Object(r.a)(d,2),g=E[0],f=E[1],b=Object(n.useContext)(h);Object(n.useEffect)((function(){fetch("".concat("http://localhost:8000/basket")).then((function(e){return e.json()})).then((function(e){f(e)})).catch((function(e){return console.log(e)}))}),[o]);var w=Object(n.useState)(!1),j=Object(r.a)(w,2),v=j[0],N=j[1];return t.length>0?l.a.createElement(y,{onList:t,imageToShow:a,onBuy:c}):g&&!1===v&&b?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container wraper"},l.a.createElement("h1",null,"Tw\xf3j koszyk:"),l.a.createElement("h1",{style:{margin:"5rem 0 5rem",opacity:"0.5"}},0===g.length&&"Ten koszyk jest pusty"),l.a.createElement("div",{className:"basket-container"},l.a.createElement("ul",{className:"basket-container__items"},g.map((function(e,t){return l.a.createElement("li",{className:"basket-container__items__item",key:t},l.a.createElement(k,{itemToBuy:e,index:t,price:15,quantity:s,changeQuantityAdd:m,changeQuantitySubstract:u,remove:i}))}))),l.a.createElement("div",{className:"basket-container__price"},"Kwota do zap\u0142aty :",o," z\u0142"),l.a.createElement("button",{className:"btn bsk",onClick:function(){N((function(e){return!e}))}},"Kupuj\u0119")))):v&&b?l.a.createElement(O,{items:g,zeroHandle:p}):null===b?l.a.createElement(P,null):l.a.createElement("h1",null,"Trwa \u0142adowanie strony..")},L=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("footer",{className:"container"},l.a.createElement("section",null,l.a.createElement("div",{className:"pr"},l.a.createElement("h2",null,"O nas"),l.a.createElement("p",null,"Etiam feugiat condimentum Aliquam imperdiet suscipit odio Sed porttitor cras in erat nec Felis varius pellentesque potenti Nullam scelerisque blandit leo")),l.a.createElement("div",{className:"footerVisibility pr"},l.a.createElement("h2",null,"Aktualno\u015bci"),l.a.createElement("p",null,"Etiam feugiat condimentum Aliquam imperdiet suscipit odio Sed porttitor cras in erat nec Felis varius pellentesque potenti Nullam scelerisque blandit leo"))),l.a.createElement("section",null,l.a.createElement("div",{className:"pr"},l.a.createElement("h2",null,"Regulamin"),l.a.createElement("p",null,"Etiam feugiat condimentum Aliquam imperdiet suscipit odio Sed porttitor cras in erat nec Felis varius pellentesque potenti Nullam scelerisque blandit leo")),l.a.createElement("div",{className:"footerVisibility"},l.a.createElement("h2",{style:{color:"#012c52"}},"Kontakt"),l.a.createElement("div",{className:"footer__media"},l.a.createElement("a",{href:"https://www.facebook.com/"}," ",l.a.createElement("i",{className:"fab fa-facebook"})),l.a.createElement("a",{href:"https://www.instagram.com/"},l.a.createElement("i",{className:"fab fa-instagram"}))),l.a.createElement("p",null,"ul. Miko\u0142ajska 4, 31-027, Krak\xf3w")))))},I=function(e){var t=e.itemsToShow,a=Object(n.useState)(!1),c=Object(r.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){fetch("".concat("http://localhost:8080/api/drugs")).then((function(e){return e.json()})).then((function(e){return s(e.filter((function(e){return"OTC"===e.katDostOpak})))})).catch((function(e){return console.log(e)}))}),[]),console.log(o),t.length>0?(console.log(t),l.a.createElement(y,{onList:t})):o?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Leki na recept\u0119 dost\u0119pne w naszaj Aptece:"),l.a.createElement("ul",null,o.map((function(e,t){return l.a.createElement("li",{className:"basket-container__items__item",style:{width:"85vw"},key:t},e.nazwa," (",e.nazPowStos,"), ",e.dawka,", ",e.postac,","," ",e.podmOdpow)}))))):l.a.createElement("h1",null,"Trwa \u0142adowanie strony...")},W=function(e){var t=e.itemsToShow,a=e.onBuy,c=e.imageToShow,o=Object(n.useContext)(h),s=Object(n.useState)({pesel:"",info:""}),i=Object(r.a)(s,2),m=i[0],u=i[1],p=function(e){e.preventDefault();var t=e.target,a=t.value,n=t.name;u((function(e){return Object(z.a)(Object(z.a)({},e),{},Object(S.a)({},n,a))}))};console.log(m);return t.length>0?l.a.createElement(y,{onList:t,imageToShow:c,onBuy:a}):o?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container wraper"},l.a.createElement("h1",null,"Zrealizuj recept\u0119"),l.a.createElement("h2",null,"Wy\u015blij nam swoje kody, a my zrobimy reszt\u0119:)"),l.a.createElement("form",{id:"prescription",onSubmit:function(e){e.preventDefault();!function(e,t){window.emailjs.send("service_83i8snr",e,t,"user_n3xoIvObZaxG1DfOfz5nX").then((function(e){alert("Wiadomo\u015b\u0107 zosta\u0142a wys\u0142ana")})).catch((function(e){return alert("Co\u015b posz\u0142o nie tak! Spr\xf3buj jeszcze raz lub skontaktuj si\u0119 z nami",e)}))}("template_ln0w1h2",{message_html:m.pesel,from_name:o.displayName,reply_to:o.email,message:m.info}),u({pesel:"",info:""})}},l.a.createElement("div",{className:"prescription__pesel"},l.a.createElement("label",null,"Tw\xf3j pesel:"),l.a.createElement("input",{className:"log-input",style:{backgroundColor:"white"},onChange:p,type:"number",name:"pesel",value:m.pesel})),l.a.createElement("div",{className:"prescription__info"},l.a.createElement("label",null,"Kody recept oraz dodatkowe informacje dotycz\u0105ce ich realizacji:"),l.a.createElement("textarea",{className:"log-input",onChange:p,style:{width:"30rem",height:"10rem",backgroundColor:"white"},name:"info",value:m.info})),l.a.createElement("input",{className:"btn log",type:"submit",value:"Wy\u015blij"})))):null===o?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"}," ",l.a.createElement("h1",null,"Musisz si\u0119 zalogowa\u0107!"),l.a.createElement(P,{className:"log__container"}))):l.a.createElement("h1",null,"Trwa \u0142adowanie strony..")},D=function(e){var t=e.itemsToShow,a=Object(n.useState)(!1),c=Object(r.a)(a,2),o=c[0],s=c[1];return Object(n.useEffect)((function(){fetch("".concat("http://localhost:8080/api/drugs")).then((function(e){return e.json()})).then((function(e){return s(e.filter((function(e){return"Rpz"===e.katDostOpak||"Rp"})))})).catch((function(e){return console.log(e)}))}),[]),console.log(o),t.length>0?l.a.createElement(y,{onList:t}):o?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Leki na recept\u0119 dost\u0119pne w naszaj Aptece:"),l.a.createElement("ul",null,o.map((function(e,t){return l.a.createElement("li",{className:"basket-container__items__item",style:{width:"85vw",marginTop:"2rem"},key:t},e.nazwa," (",e.nazPowStos,"), ",e.dawka,", ",e.postac,","," ",e.podmOdpow)}))))):l.a.createElement("h1",null,"Trwa \u0142adowanie strony...")},q=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),s=Object(r.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)([]),p=Object(r.a)(u,2),h=p[0],d=p[1],b=Object(n.useState)(""),w=Object(r.a)(b,2),y=w[0],j=w[1],v=Object(n.useState)(0),k=Object(r.a)(v,2),O=k[0],_=k[1],S=Object(n.useState)(0),z=Object(r.a)(S,2),C=z[0],x=z[1],T=Object(n.useState)(0),F=Object(r.a)(T,2),A=F[0],q=F[1],Z="http://localhost:8000/basket";Object(n.useEffect)((function(){fetch("".concat(Z)).then((function(e){return e.json()})).then((function(e){q(e)})).catch((function(e){return console.log(e)}))}),[C]);var H=function(e,t,a){e.preventDefault();var n={name:t.nazwa,dose:t.dawka,form:t.postac,producer:t.podmOdpow,howMany:1};console.log(n),fetch("".concat(Z),{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),_((function(e){return e+1})),x((function(e){return e+a}))})).catch((function(e){console.log(e)}))},M=function(e,t,a,n){var l=parseFloat(a.current.innerText)+1,c={howMany:l};fetch("".concat(Z,"/").concat(t.id),{method:"PATCH",body:JSON.stringify(c),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),x((function(t){return t+e})),_((function(e){return e+1}))})).catch((function(e){console.log(e)})),console.log(l)},R=function(e,t,a,n){var l={howMany:parseFloat(a.current.innerText)-1};fetch("".concat(Z,"/").concat(t.id),{method:"PATCH",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),_((function(e){return e-1})),x((function(t){return t-e}))})).catch((function(e){console.log(e)})),console.log(O)},Q=function(e){fetch("".concat(Z,"/").concat(e.id),{method:"DELETE"}).then((function(t){console.log(t.ok),x((function(t){return t-15*e.howMany})),_((function(t){return t-e.howMany}))})).catch((function(e){console.log(e)}))},U=function(){_(0),x(0)};return l.a.createElement("div",{className:a?"body moved":"body"},l.a.createElement(E.a,null,l.a.createElement(f,{onClick:function(){c((function(e){return!e})),m((function(e){return!e}))},trigger:i,showList:function(e,t){d(e.filter((function(e){return e.nazwa.toLowerCase().includes(t.toLowerCase())}))),j(t)},inBasket:A,howMany:O}),l.a.createElement(g.c,null,l.a.createElement(g.a,{exact:!0,path:"/",render:function(e){return l.a.createElement(N,Object.assign({},e,{itemsToShow:h,imageToShow:y,onBuy:H}))}}),l.a.createElement(g.a,{exact:!0,path:"/basket",render:function(e){return l.a.createElement(B,Object.assign({},e,{itemsToShow:h,imageToShow:y,onBuy:H,pay:C,quantity:O,changeQuantityAdd:M,changeQuantitySubstract:R,remove:Q,zeroHandle:U}))}}),l.a.createElement(g.a,{exact:!0,path:"/otc",render:function(e){return l.a.createElement(I,Object.assign({},e,{itemsToShow:h,imageToShow:y}))}}),l.a.createElement(g.a,{exact:!0,path:"/prescriptions",render:function(e){return l.a.createElement(W,Object.assign({},e,{itemsToShow:h,imageToShow:y,onBuy:H}))}}),l.a.createElement(g.a,{exact:!0,path:"/drugs",render:function(e){return l.a.createElement(D,Object.assign({},e,{itemsToShow:h,imageToShow:y}))}}),l.a.createElement(g.a,{path:"/log",component:P}),l.a.createElement(g.a,{component:function(){return l.a.createElement("h1",null,"Co\u015b posz\u0142o nie tak, nie odnazle\u017cli\u015bmy strony:(")}})),l.a.createElement(L,null)))},Z=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(d,null,l.a.createElement(q,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},63:function(e,t,a){e.exports=a(128)},68:function(e,t,a){},69:function(e,t,a){},88:function(e,t){},90:function(e,t){}},[[63,1,2]]]);
//# sourceMappingURL=main.bb4fcfd6.chunk.js.map